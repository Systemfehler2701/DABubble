<main class="channel-menu">
    <section class="header-wrapper" *ngIf="globalVariables.desktop700">
        <div class="left-header-menu">
            <img src="./assets/img/icons/Workspace_logo.svg" alt="" />
            <p class="header-text">Code Learning</p>
        </div>
    </section>
    <app-searchbar *ngIf="!globalVariables.desktop900" [classes]="['searchBarChannelMenu', 'searchBar']"></app-searchbar>

    <section class="contentSection">
        <div class="all-channel">
            <div class="channel-dialog">
                <div class="channel-header">
                    <div (click)="openChannelMenu()" class="channel-arrow-dropdown">
                        <img id="channelMsgArrow" *ngIf="!isChannelMenuOpen" src="./assets/img/icons/arrow_drop_down_default.svg" alt="" />
                        <img *ngIf="isChannelMenuOpen" src="./assets/img/icons/arrow_drop_down.svg" alt="" />
                    </div>
                    <div class="channel-headline-wrapper">
                        <img src="./assets/img/icons/workspaces.svg" alt="" />
                        <p>Channels</p>
                    </div>
                </div>
                <div class="add-channel" (click)="openChannelOverlay()">
                    <img src="./assets/img/icons/add.svg" alt="" />
                </div>
            </div>
            <div class="channel-overview" id="channels" *ngIf="isChannelMenuOpen">
   
                <ng-container >
                    <div class="channel-wrapper" 
                    *ngFor="let channel of this.globalVariables.viewableChannelplusId" 
                    (click)="openChannel(channel.channelId)"
                    [class.active-channel]="channel.channelId === selectedChannel?.id">
                    <p><span>#</span>{{ channel.channelName }}</p>
                </div>
                </ng-container>
                
            </div>
            <div></div>
            <div></div>
        </div>
        <div class="channel-add" (click)="openChannelOverlay()">
            <a class="menu-adder">
                <img src="./assets/img/icons/add_circle.svg" alt="" />
                <p>Channel hinzuf√ºgen</p>
            </a>
        </div>
        <div class="direct-messages">
            <div class="messages-wrapper">
                <div class="channel-arrow-dropdown" (click)="openDirectMessageMenu()">
                    <img *ngIf="!isUserlMenuOpen" id="msgActiveArrow" src="./assets/img/icons/arrow_drop_down_default.svg" alt="" />
                    <img *ngIf="isUserlMenuOpen" src="./assets/img/icons/arrow_drop_down.svg" alt="" />
                </div>
                <div class="message-helper">
                    <img src="./assets/img/icons/account_circle.svg" alt="" />
                    <p>Direktnachrichten</p>
                </div>
            </div>
            <div class="user-wrapper" id="directMessage" *ngIf="isUserlMenuOpen">
                <div class="user-detail" *ngFor="let user of globalVariables.allUsers" (click)="this.openDirectMessageUser(user)">
                    <div class="userImgWithStatus">
                        <img class="userImg" [src]="user.img" alt="userImage" />
                        <img *ngIf="user.isActive" class="status" src="./assets/img/icons/online.svg" alt="profile online">
                        <img *ngIf="!user.isActive" class="status" src="./assets/img/icons/offline.svg" alt="profile offline">
                    </div>
                    <span>{{ user.name }}</span>
                </div>
            </div>
        </div>
    </section>
</main>